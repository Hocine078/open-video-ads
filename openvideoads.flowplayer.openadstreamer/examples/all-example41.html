<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Example 41 (ALL) - Delivering mixed MP4/FLV streams and ads</title>
<script type="text/javascript" src="../dist/jquery-1.3.1.js"></script>
<script type="text/javascript" src="../dist/flowplayer-3.1.4.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/global.css" />
</head>
<body>

<h2>Example 41 (ALL) - Delivering mixed MP4/FLV streams and ads</h2>
<p class="example">
This example demonstrates the delivery of a mixture of FLV and MP4 streams
and ads. By default, the streamType config parameter is set to "any" so
it does not need to be specified. Two shows streams will play - an MP4
first, then an FLV. Each show stream will play an ad that will either be
an FLV or MP4 linear ad.
</p>
<a class="example"></a>

<script type="text/javascript">
flowplayer("a.example", "../dist/flowplayer-3.1.5.swf", {
    plugins: {
        rtmp: {
            url: "../dist/flowplayer.rtmp-3.1.3.swf"
        },
        rtmpInstream: {
            url: "../dist/flowplayer.rtmp-3.1.3.swf"
        },
        controls: {
            autoHide: "always"
        },

        openAdStreamer: {
            url: '../dist/OpenAdStreamer.swf',
//            "url": "/fp-http/OpenAdStreamer.swf",

            "shows": {
                "baseURL": "http://streaming.openvideoads.org/shows",
	            "streams": [
                    { "file":"the-black-hole.flv", "duration":"00:00:20" },
                    { "file":"the-black-hole.mp4", "duration":"00:00:20" },
               ]
            },

            "ads": {
              "servers": [
                   {
                      "type": "OpenX",
                      "apiAddress": "http://openx.openvideoads.org/openx/www/delivery/fc.php"
                   }
              ],

              "schedule": [
                  {
                    "zone": "15",
                    "position": "pre-roll"
                  }
              ]
            },

            "debug": {
              "levels": "fatal",
              "debugger": "firebug"
            }
        }
    }
});
</script>
<p>
The configuration for this example is:
</p>
<div class="codebox">
<pre>
<code class="javascript">
flowplayer("a.example", "../dist/flowplayer-3.1.5.swf", {
    plugins: {
        rtmp: {
            url: "../dist/flowplayer.rtmp-3.1.3.swf"
        },
        rtmpInstream: {
            url: "../dist/flowplayer.rtmp-3.1.3.swf"
        },
        controls: {
            autoHide: "always"
        },

        openAdStreamer: {
            url: '../dist/OpenAdStreamer.swf',

            "shows": {
                "baseURL": "http://streaming.openvideoads.org/shows",
                "streams": [
                    { "file":"the-black-hole.flv", "duration":"00:00:20" },
                    { "file":"the-black-hole.mp4", "duration":"00:00:20" }                    
                ]
            },

            "ads": {
                "servers": [
                    {
                        "type": "OpenX",
                        "apiAddress": "http://openx.openvideoads.org/openx/www/delivery/fc.php"
                    }
                ],
                "schedule": [
                   {
                     "zone": "15",
                     "position": "pre-roll"
                   }
                ]
            },

            "debug": {
                "levels": "fatal",
                "debugger": "firebug"
            }
        }
    }
});
</code>
</pre>
</div>
<script type="text/javascript" src="js/tracking.js">
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10158120-3");
if(TRACKING_TURNED_ON) {
	pageTracker._trackPageview();
}
} catch(err) {}
</script>
</body>
</html>